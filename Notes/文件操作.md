# 文件操作
---
### 文件的处理
![](image/2022-02-12-00-17-33.png)

#### 文件打开
```{class=line-numbers}
<变量名称> = open(<文件名>,<打开模式>)
<文件名> 是文件的路径和名称,在相同目录下的文件可以省略路径
<打开模式> 可以是文本或者二进制 采用读或者写
```
##### 绝对路径:
*[注]* 在Python中的反斜杠是转译字符,而Windows平台下的默认的文件路径为反斜杠,因此书写绝对路径时要采用:```/(斜杠)```替代```\(反斜杠)```,如D盘目录下Future文件夹的Hello.txt文件,应写作:
```{class=line-numbers}
Windows: D:\Future\Hello.txt
Python: "D:/Future/Hello.txt" 或者 "D:\\Future\\Hello.txt"
```
##### 相对路径
如该程序存储在D盘根目录下,可以用```./```来在相同目录下搜索文件,如上面文件的位置可写作```./Future/Hello.txt```
当位于相同目录时,可直接写作```Hello.txt```

##### 文件打开模式
![](image/2022-02-12-19-26-47.png)
![](image/2022-02-12-19-28-31.png)

##### 文件关闭
```<变量名>.close```

----

#### 文件的读取

##### 遍历全文本
###### 通用方式
适用于小文件
 ```python{class=line-numbers}
fname = input("请输入要打开的文件名称:")
fo = open(fname,"r")
txt = fo.read()
#对全文txt进行处理
fo.close()
 ```
适用于大文件
 ```python{class=line-numbers}
 fname = input("请输入要打开的文件名称:")
 fo = open(fname,"r")
 txt = fo.read(2)
 while txt!="":
     txt = fo.read(2)
fo.close()
```
###### 分行存储的文件
```python{class=line-numbers}
 fname = input("请输入要打开的文件名称:")
 fo = open(fname,"r")
 for line in fo.readlines():
     print(line)
fo.close()
```
极大文件可以这样读入,实现分行读入,逐行处理
```python{class=line-numbers}
 fname = input("请输入要打开的文件名称:")
 fo = open(fname,"r")
 for line in fo:
     print(line)
fo.close()
```
----
### 文件的写入
![](image/2022-02-12-19-50-59.png)
*[注]* writelines()写入时并不换行也不添加空格和逗号等
![](image/2022-02-12-19-52-09.png)
```python{class=line-numbers cmd=True}
#-*- coding=UTF-8 -*-
fo = open("output.txt","w+")
ls = ["China","NB"]
fo.writelines(ls)
fo.seek(0) # 写操作后文件指针位于文件末尾,为了能够顺利读取,应将文件指针移动回到开头
for line in fo:
    print(line)
fo.close()
```
